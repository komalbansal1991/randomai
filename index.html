<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>

<style>
  model-viewer {
    width: 100%;
    height: 90vh;
    background-color: #f0f0f0;
  }
  #measure-overlay {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: white;
    padding: 10px;
    border-radius: 8px;
    font-family: sans-serif;
  }
</style>

<model-viewer 
  id="wall-decor"
  /* This is a public sample model of a framed painting */
  src="https://modelviewer.dev/shared-assets/models/ArtGallery/Boom_2_.glb" 
  ar 
  ar-modes="webxr scene-viewer quick-look" 
  ar-placement="wall" 
  camera-controls 
  touch-action="pan-y"
  alt="A 3D wall decor test"
  style="width: 100%; height: 500px;">
  
  <button slot="ar-button" style="background-color: white; border-radius: 8px; border: 1px solid #ccc; position: absolute; top: 16px; right: 16px; padding: 12px; z-index: 999;">
    ðŸ‘‹ Click to Decorate Wall
  </button>
</model-viewer>

<script>
  const modelViewer = document.querySelector('#wall-decor');
  
  // To "know" dimensions, we listen for when the model is placed
  modelViewer.addEventListener('ar-status', (event) => {
    if(event.detail.status === 'object-placed') {
      // Accessing the bounding box of the model allows you to 
      // see how it fits against the real-world wall scale
      const dimensions = modelViewer.getDimensions();
      console.log("Product scale in real world (meters):", dimensions);
    }
  });
</script>
